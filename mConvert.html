<!DOCTYPE html>
<!-- 
  mConvert.html

  A webpage to convert between metric and imperial quantities

  -----------------------------------------------------------------------------
  Revision History
  ================
  22 Mar 2020 MDS Modified layout from original - logic unchanged

  -----------------------------------------------------------------------------
  -->
<html><head><title>Metric - Imperial Converter</title>
<META http-equiv=Content-Type content = "text/html; charset=windows-1252">

<link rel = "stylesheet" href = "css/main.css">
<script language=JavaScript src = "src/generalFunctions.js" type=text/javascript></script>

<script type = "text/javascript">
  <!-- hide script
  var typeArr = new Array('Bikes','Length','Area','Mass','Volume','Temperature','Energy');
   
	function calc(val, factor, ref)	{
    var res;
    if (val == "")
      val = 0;
    res = val * factor;
    write3DP(ref, res);
	}
	
	function stone_kg(stid, lbid, kgid, dirn)	{
    var st = Number(el(stid).value);
    if (isNaN(st)) 
        st = 0;
    var lb=Number(el(lbid).value);
    if (isNaN(lb))
        lb = 0;
    var kg=Number(el(kgid).value);
    if (isNaN(kg))
        kg = 0;
    if (dirn == 0) {
        write3DP(kgid,(st*14+lb)*0.6214);
    } else {
      var lbTot = kg / 0.6214;
      el(stid).value=Math.round((lbTot/14)-0.5);
      write3DP(lbid, lbTot-(el(stid).value*14));
    }
  }
    
	function feet_m(ftid, inchid, mid, dirn) {
    var ft=Number(el(ftid).value);
    if (isNaN(ft))
      st = 0;
    var inch = Number(el(inchid).value);
    if (isNaN(inch))
        inch = 0;
    var m=Number(el(mid).value);
    if (isNaN(m))
        m = 0;
    if (dirn == 0) {
      write3DP(mid,(ft*12+inch)*0.0254);
    } else {
      var inchTot = m / 0.0254;
      el(ftid).value=Math.round((inchTot/12)-0.5);
      write3DP(inchid, inchTot-(el(ftid).value*12));
    }
  }

	function showBlock(idstr) {
    var d;
    var i;
    for (i in typeArr) {
      try {var d = el([typeArr[i]]);} catch(err){} 
      if (idstr.indexOf(typeArr[i]) == 0)	{
        try {d.style.display = '';} catch(err){} 
      } else {
        try {d.style.display = 'none';} catch(err){} 
      } 
    }
	}
	// unhide script -->
</script>
</head>
<body bgColor = #e0e0ff bgProperties = fixed id="Page_Top" onLoad=showBlock('Bikes')>

  <!-- Conversion type selector -->
  <div class="left right flex-row">
    <div class="flex-item">
      <a class="myLink" href = "#Page_Top" onClick=showBlock('Bikes')>Bikes</a>
      <a class="myLink" href = "#Page_Top" onClick=showBlock('Length')>Length</a>
    </div>
    <div class="flex-item">
      <a class="myLink" href = "#Page_Top" onClick=showBlock('Volume')>Volume</a>
      <a class="myLink" href = "#Page_Top" onClick=showBlock('Energy')>Energy</a>
      <a class="myLink" href = "#Page_Top" onClick=showBlock('Temperature')>Temperature</a>
    </div>
    <div class="flex-item">
      <a class="myLink" href = "#Page_Top" onClick=showBlock('Area')>Area</a>
      <a class="myLink" href = "#Page_Top" onClick=showBlock('Mass')>Weight</a>
    </div>
  </div>

  <!-- Bikes -->
  <div class="input-block section" id="Bikes">
    <div class="h1">Bikes</div>
    <div class="left right flex-row">
      <div class="flex-item">
        <div class="h1">Metric</div>
        <div><input id="bkilometres" onchange="calc(this.value,0.6214,'bmiles')" size=5>km</div>
        <div><input id="bkph" onchange="calc(this.value,0.6214,'bmph'); calc(this.value,1/3.6,'bmps')" size=5>km/hr</div>
        <div><input id="bmps" onchange="calc(this.value,0.6214 * 3.6,'bmph'); calc(this.value,3.6,'bkph')" size=5>m/s</div>
        <div><input id="bmetres" onchange="feet_m('bfeet','binches','bmetres',1)" size=5>m</div>
        <div><input id="bkpa" onchange="calc(this.value,1/6.894757,'bpsi')" size=5>kPa</div>
        <div><input id="bkpa2" onchange="calc(this.value,1/101.3,'batm')" size=5>kPa</div>
        <div><input id="bkgcm2" onchange="calc(this.value,1/0.0703,'bpsi2')" size=5>kg/cm<sup>2</sup></div>
        <div><input id="bkg" onchange="stone_kg('bstone','bpound','bkg',1)" size=5>kg</div>
        <div><input id="bkj" onchange="calc(this.value,0.2390057356,'bcal')" size=5>kJ</div>
        <div><input id="bgrade" onchange="bdegrees.value=180*Math.atan(this.value/100)/3.14159265358" size=5>%</div>
      </div>
      <div class="flex-item">
        <div class="h1">Imperial</div>
        <div><input id="bmiles" onchange="calc(this.value,1/0.6214,'bkilometres')" size=5>miles</div>
        <div><input id="bmph" onchange="calc(this.value,1/0.6214,'bkph'); calc(this.value,1/(0.6214 * 3.6),'bmps')" size=5>miles/hr</div>
        <div></div>
        <div><input id="bfeet" onchange="feet_m('bfeet','binches','bmetres',0)" size=5>'<input id="binches" onchange="feet_m('bfeet','binches','bmetres',0)" size=5>"</div>
        <div><input id="bpsi" onchange="calc(this.value,6.894757,'bkpa')" size=5>psi</div>
        <div><input id="batm" onchange="calc(this.value,101.3,'bkpa2')" size=5>atm</div>
        <div><input id="bpsi2" onchange="calc(this.value,0.0703,'bkgcm2')" size=5>psi</div>
        <div><input id="bstone" onchange="stone_kg('bstone','bpound','bkg',0)" size=5>st<input id="bpound" onchange="stone_kg('bstone','bpound','bkg',0)" size=5>lb</div>
        <div><input id="bcal" onchange="calc(this.value,1/0.2390057356,'bkj')" size=5>cal</div>
        <div><input id="bdegrees" onchange="bgrade.value=100*Math.tan(this.value*3.14159265358/180)" size=5>degrees</div>
      </div>
    </div>
  </div>
    
  <!-- Length -->
  <div class="input-block section" id="Length">
    <div class="h1">Length</div>
    <div class="left right flex-row">
      <div class="flex-item">
        <div class="h1">Metric</div>
        <div><input id="lmm" onchange="calc(this.value,0.03937,'cinches')" size=5>mm</div>
        <div><input id="lcm" onchange="calc(this.value,0.3937,'cinches2')" size=5>cm</div>
        <div><input id="lm" onchange="calc(this.value,1.0936,'cyards')" size=5>m</div>
        <div><input id="lkm" onchange="calc(this.value,0.6214,'cmiles')" size=5>km</div>
        <div><input id="lmetres" onchange="feet_m('lfeet','linches','lmetres',1)" size=5>m</div>
      </div>
      <div class="flex-item">
        <div class="h1">Imperial</div>
        <div><input id="cinches" onchange="calc(this.value,1/0.03937,'lmm')" size=5>"</div>
        <div><input id="cinches2" onchange="calc(this.value,1/0.3937,'lcm')" size=5>"</div>
        <div><input id="cyards" onchange="calc(this.value,1/1.0936,'lm')" size=5>yards</div>
        <div><input id="cmiles" onchange="calc(this.value,1/0.6214,'lkm')" size=5>miles</div>
        <div><input id="lfeet" onchange="feet_m('lfeet','linches','lmetres',0)" size=5>'<input id="linches" onchange="feet_m('lfeet','linches','lmetres',0)" size=5>"</div>
      </div>
    </div>
  </div>

  <!-- Area -->
  <div class="input-block section" id="Area">
    <div class="h1">Area</div>
    <div class="left right flex-row">
      <div class="flex-item">
        <div class="h1">Metric</div>
        <div><input id="asqcm" onchange="calc(this.value,0.155,'csqinch')" size=5> cm<sup>2</sup> </div>
        <div><input id="asqm" onchange="calc(this.value,1.196,'csqyard')" size=5> m<sup>2</sup> </div>
        <div><input id="asqkm" onchange="calc(this.value,0.3861,'csqmile')" size=5> km<sup>2</sup> </div>
        <div><input id="ahectares" onchange="calc(this.value,2.5,'csqacre')" size=5> hectares </div>
      </div>
      <div class="flex-item">
        <div class="h1">Imperial</div>
        <div><input id="csqinch" onchange="calc(this.value,1/0.155,'asqcm')" size=5> sq inches </div>
        <div><input id="csqyard" onchange="calc(this.value,1/1.196,'asqm')" size=5> sq yards </div>
        <div><input id="csqmile" onchange="calc(this.value,1/0.3861,'asqkm')" size=5> sq miles </div>
        <div><input id="csqacre" onchange="calc(this.value,1/2.5,'ahectares')" size=5> acres </div>
      </div>
    </div>
  </div>

  <!-- Mass -->
  <div class="input-block section" id="Mass">
    <div class="h1">Mass and Weight</div>
    <div class="left right flex-row">
      <div class="flex-item">
        <div class="h1">Metric</div>
        <div><input id="mgm" onchange="calc(this.value,0.0352,'cfloz')" size=5> g </div>
        <div><input id="mkg1" onchange="calc(this.value,2.2046,'clbs')" size=5> kg </div>
        <div><input id="mton" onchange="calc(this.value,1.1,'ctons')" size=5> metric tons </div>
        <div><input id="mkg" onchange="stone_kg('mstone','mpound','mkg',1)" size=5> kg </div>
      </div>
      <div class="flex-item">
        <div class="h1">Imperial</div>
        <div><input id="cfloz" onchange="calc(this.value,1/0.0352,'mgm')" size=5> fluid oz (UK) </div>
        <div><input id="clbs" onchange="calc(this.value,1/2.2046,'mkg1')" size=5> lb </div>
        <div><input id="ctons" onchange="calc(this.value,1/1.1,'mton')" size=5> short tons </div>
        <div><input id="mstone" onchange="stone_kg('mstone','mpound','mkg',0)" size=5> st <input id="mpound" onchange="stone_kg('mstone','mpound','mkg',0)" size=5> lb </div>
      </div>
    </div>
  </div>


  <!-- Volume -->
  <div class="input-block section" id="Volume">
    <div class="h1">Liquid Volume</div>
    <div class="left right flex-row">
      <div class="flex-item">
        <div class="h1">Metric</div>
        <div><input id="vml" onchange="calc(this.value,0.035,'coz')" size=5> ml </div>
        <div><input id="vlit" onchange="calc(this.value,2.1,'vpints')" size=5> l </div>
        <div><input id="vlit4" onchange="calc(this.value,0.2625,'cgal2')" size=5> l </div>
        <div><input id="vlit1" onchange="calc(this.value,0.877,'cqts')" size=5> l </div>
        <div><input id="vlit3" onchange="calc(this.value,1.7598,'vpints2')" size=5> l </div>
        <div><input id="vlit2" onchange="calc(this.value,0.22,'cgal1')" size=5> l </div>
      </div>
      <div class="flex-item">
        <div class="h1">Imperial</div>
        <div><input id="coz" onchange="calc(this.value,1/0.035,'vml')" size=5> fluid oz (UK) </div>
        <div><input id="vpints" onchange="calc(this.value,1/2.1,'vlit')" size=5> pints (US) </div>
        <div><input id="cgal2" onchange="calc(this.value,1/0.2625,'vlit4')" size=5> gal (US) </div>
        <div><input id="cqts" onchange="calc(this.value,1/0.877,'vlit1')" size=5> quarts </div>
        <div><input id="vpints2" onchange="calc(this.value,1/1.7598,'vlit3')" size=5> pints (UK) </div>
        <div><input id="cgal1" onchange="calc(this.value,1/0.22,'vlit2')" size=5> gal (UK) </div>
      </div>
    </div>
  </div>

  <!-- Energy -->
  <div class="input-block section" id="Energy">
    <div class="h1">Energy</div>
    <div class="left right flex-row">
      <div class="flex-item">
        <div class="h1">Metric</div>
        <div><input id="ekj" onchange="calc(this.value,0.2390057356,'ecal')" size=5>kJ</div>
      </div>
      <div class="flex-item">
        <div class="h1">Imperial</div>
        <div><input id="ecal" onchange="calc(this.value,1/0.2390057356,'ekj')" size=5>cal</div>
      </div>
    </div>
  </div>

  <!-- Temperature -->
  <div class="input-block section" id="Temperature">
    <div class="h1">Temperature</div>
    <div class="left right flex-row">
      <div class="flex-item">
        <div class="h1">Metric</div>
        <div><input id="ccelsius" onchange='write3DP("cfahren", (212-32)/100 * this.value + 32) ' size=5><sup>o</sup>C</div>
        <div><input id="ccelsius1" onchange='write3DP("ckelvin", Number(this.value) - 273.15)' size=5><sup>o</sup>C</div>
      </div>
      <div class="flex-item">
        <div class="h1">Imperial</div>
        <div><input id="cfahren" onchange='write3DP("ccelsius", 100/(212-32) * (this.value - 32 ))' size=5><sup>o</sup>F</div>
        <div><input id="ckelvin" onchange='write3DP("ccelsius1", Number(this.value) + 273.15)' size=5><sup>o</sup>K</div>
      </div>
    </div>
  </div>

  <div class="left right"><b>Instructions</b>: Type a value into either the metric or imperial column, then click in the opposing column to see the result.</div>
</body>
</html>
<!-----------------------------------------------------------------------------
//                               End of file
//---------------------------------------------------------------------------->
